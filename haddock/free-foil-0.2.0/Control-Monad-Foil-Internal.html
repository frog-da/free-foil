<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Control.Monad.Foil.Internal</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">free-foil-0.2.0: Efficient Type-Safe Capture-Avoiding Substitution for Free (Scoped Monads)</span><ul class="links" id="page-menu"><li><a href="src/Control.Monad.Foil.Internal.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Monad.Foil.Internal</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Safe types and operations</a><ul><li><a href="#g:2">Extending scopes</a></li><li><a href="#g:3">Collecting new names</a></li><li><a href="#g:4">Refreshing binders</a></li><li><a href="#g:5">Extracting proofs from binders and patterns</a></li><li><a href="#g:6">Unsinking names</a></li></ul></li><li><a href="#g:7">Unification of binders</a><ul><li><a href="#g:8">Pattern combinators</a></li><li><a href="#g:9">Unifiable patterns</a></li></ul></li><li><a href="#g:10">Safe sinking</a></li><li><a href="#g:11">Safe substitions</a></li><li><a href="#g:12"><code>Name</code> maps</a></li><li><a href="#g:13">Raw types and operations</a></li><li><a href="#g:14">Constraints</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Main definitions of the foil that can be
 reused for specific implementations.
 This is an internal module, so it also contains implementation details of the foil.</p><p>The original description of this approach
 is described in the IFL 2022 paper by Maclaurin, Radul, and Paszke
 <a href="https://doi.org/10.1145/3587216.3587224">&#171;The Foil: Capture-Avoiding Substitution With No Sharp Edges&#187;</a>.
 This module also introduces <code><a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a></code> class,
 generalizing handling of patterns, as described in
 <a href="https://arxiv.org/abs/2405.16384">&#171;Free Foil: Generating Efficient and Scope-Safe Abstract Syntax&#187;</a>.</p><p>Since the representation of scopes and substitutions
 is either <code><a href="../containers-0.6.8/Data-IntMap-Strict-Internal.html#t:IntMap" title="Data.IntMap.Strict.Internal">IntMap</a></code> or <code><a href="../containers-0.6.8/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a></code>, many of the operations
 have a worst-case complexity of <span class="mathjax">\(O(\min(n,W))\)</span>.
 This means that the operation can become linear in the size of the scope <span class="mathjax">\(n\)</span> with a maximum of <span class="mathjax">\(W\)</span>
 &#8212; the number of bits in an <code><a href="../base-4.19.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></code> (32 or 64).</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:S">S</a> = <a href="#v:VoidS">VoidS</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Scope">Scope</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:UnsafeScope">UnsafeScope</a> <a href="Control-Monad-Foil-Internal.html#t:RawScope" title="Control.Monad.Foil.Internal">RawScope</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Name">Name</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:UnsafeName">UnsafeName</a> <a href="Control-Monad-Foil-Internal.html#t:RawName" title="Control.Monad.Foil.Internal">RawName</a></li><li class="src short"><a href="#v:nameId">nameId</a> :: <span class="keyword">forall</span> (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Id" title="Control.Monad.Foil.Internal">Id</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:NameBinder">NameBinder</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:UnsafeNameBinder">UnsafeNameBinder</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l)</li><li class="src short"><a href="#v:emptyScope">emptyScope</a> :: <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> '<a href="Control-Monad-Foil-Internal.html#v:VoidS" title="Control.Monad.Foil.Internal">VoidS</a></li><li class="src short"><a href="#v:member">member</a> :: <span class="keyword">forall</span> (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:extendScope">extendScope</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> l</li><li class="src short"><a href="#v:extendScopePattern">extendScopePattern</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) pattern (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern) =&gt; pattern n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> l</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:ExtendScope">ExtendScope</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:ExtendScope">ExtendScope</a> (<a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> l)</li><li class="src short"><a href="#v:idExtendScope">idExtendScope</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:ExtendScope" title="Control.Monad.Foil.Internal">ExtendScope</a> n n o o'</li><li class="src short"><a href="#v:compExtendScope">compExtendScope</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:ExtendScope" title="Control.Monad.Foil.Internal">ExtendScope</a> n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtendScope" title="Control.Monad.Foil.Internal">ExtendScope</a> i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtendScope" title="Control.Monad.Foil.Internal">ExtendScope</a> n l o o''</li><li class="src short"><a href="#v:nameOf">nameOf</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l</li><li class="src short"><a href="#v:namesOfPattern">namesOfPattern</a> :: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern) =&gt; pattern n l -&gt; [<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l]</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:NamesOf">NamesOf</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:NamesOf">NamesOf</a> [<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l]</li><li class="src short"><a href="#v:idNamesOf">idNamesOf</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NamesOf" title="Control.Monad.Foil.Internal">NamesOf</a> n n o o'</li><li class="src short"><a href="#v:compNamesOf">compNamesOf</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NamesOf" title="Control.Monad.Foil.Internal">NamesOf</a> n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NamesOf" title="Control.Monad.Foil.Internal">NamesOf</a> i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NamesOf" title="Control.Monad.Foil.Internal">NamesOf</a> n l o o''</li><li class="src short"><a href="#v:withFreshBinder">withFreshBinder</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; (<span class="keyword">forall</span> (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; r) -&gt; r</li><li class="src short"><a href="#v:withFresh">withFresh</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; (<span class="keyword">forall</span> (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> n l =&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; r) -&gt; r</li><li class="src short"><a href="#v:withFreshPattern">withFreshPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) pattern (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e) =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; pattern n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; (<a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e n o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e l o') -&gt; pattern o o' -&gt; r) -&gt; r</li><li class="src short"><a href="#v:withRefreshed">withRefreshed</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> i -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> o o' -&gt; r) -&gt; r</li><li class="src short"><a href="#v:withRefreshedPattern">withRefreshedPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) pattern (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e) =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; pattern n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; (<a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e n o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e l o') -&gt; pattern o o' -&gt; r) -&gt; r</li><li class="src short"><a href="#v:withRefreshedPattern-39-">withRefreshedPattern'</a> :: <span class="keyword">forall</span> pattern (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) e (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o, <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e, <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e) =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; pattern n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; ((<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; e o) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; e o') -&gt; pattern o o' -&gt; r) -&gt; r</li><li class="src short"><a href="#v:unsafeAssertFresh">unsafeAssertFresh</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> n' l' =&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l' -&gt; r) -&gt; r</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WithRefreshedPattern">WithRefreshedPattern</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:WithRefreshedPattern">WithRefreshedPattern</a> (<a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e n o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e l o')</li><li class="src short"><a href="#v:idWithRefreshedPattern">idWithRefreshedPattern</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern" title="Control.Monad.Foil.Internal">WithRefreshedPattern</a> e n n o o'</li><li class="src short"><a href="#v:compWithRefreshedPattern">compWithRefreshedPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o' o'') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern" title="Control.Monad.Foil.Internal">WithRefreshedPattern</a> e n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern" title="Control.Monad.Foil.Internal">WithRefreshedPattern</a> e i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern" title="Control.Monad.Foil.Internal">WithRefreshedPattern</a> e n l o o''</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WithRefreshedPattern-39-">WithRefreshedPattern'</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:WithRefreshedPattern-39-">WithRefreshedPattern'</a> ((<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; e o) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; e o')</li><li class="src short"><a href="#v:idWithRefreshedPattern-39-">idWithRefreshedPattern'</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern-39-" title="Control.Monad.Foil.Internal">WithRefreshedPattern'</a> e n n o o'</li><li class="src short"><a href="#v:compWithRefreshedPattern-39-">compWithRefreshedPattern'</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o' o'') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern-39-" title="Control.Monad.Foil.Internal">WithRefreshedPattern'</a> e n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern-39-" title="Control.Monad.Foil.Internal">WithRefreshedPattern'</a> e i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern-39-" title="Control.Monad.Foil.Internal">WithRefreshedPattern'</a> e n l o o''</li><li class="src short"><span class="keyword">data</span> <a href="#t:DistinctEvidence">DistinctEvidence</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:Distinct">Distinct</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:DistinctEvidence" title="Control.Monad.Foil.Internal">DistinctEvidence</a> n</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ExtEvidence">ExtEvidence</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:Ext">Ext</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Ext" title="Control.Monad.Foil.Internal">Ext</a> n l =&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtEvidence" title="Control.Monad.Foil.Internal">ExtEvidence</a> n l</li></ul></li><li class="src short"><a href="#v:assertDistinct">assertDistinct</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) pattern (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern) =&gt; pattern n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:DistinctEvidence" title="Control.Monad.Foil.Internal">DistinctEvidence</a> l</li><li class="src short"><a href="#v:assertExt">assertExt</a> :: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern =&gt; pattern n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtEvidence" title="Control.Monad.Foil.Internal">ExtEvidence</a> n l</li><li class="src short"><a href="#v:unsafeDistinct">unsafeDistinct</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DistinctEvidence" title="Control.Monad.Foil.Internal">DistinctEvidence</a> n</li><li class="src short"><a href="#v:unsafeExt">unsafeExt</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:ExtEvidence" title="Control.Monad.Foil.Internal">ExtEvidence</a> n l</li><li class="src short"><a href="#v:unsinkName">unsinkName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="../base-4.19.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n)</li><li class="src short"><a href="#v:unsinkNamePattern">unsinkNamePattern</a> :: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern) =&gt; pattern n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="../base-4.19.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:UnsinkName">UnsinkName</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:UnsinkName">UnsinkName</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="../base-4.19.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n))</li><li class="src short"><a href="#v:idUnsinkName">idUnsinkName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:UnsinkName" title="Control.Monad.Foil.Internal">UnsinkName</a> n n o o'</li><li class="src short"><a href="#v:compUnsinkName">compUnsinkName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:UnsinkName" title="Control.Monad.Foil.Internal">UnsinkName</a> n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnsinkName" title="Control.Monad.Foil.Internal">UnsinkName</a> i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnsinkName" title="Control.Monad.Foil.Internal">UnsinkName</a> n l o o''</li><li class="src short"><span class="keyword">data</span> <a href="#t:UnifyNameBinders">UnifyNameBinders</a> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:SameNameBinders">SameNameBinders</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l l</li><li><a href="#v:RenameLeftNameBinder">RenameLeftNameBinder</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n r -&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n r) -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r</li><li><a href="#v:RenameRightNameBinder">RenameRightNameBinder</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l -&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l) -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r</li><li><a href="#v:RenameBothBinders">RenameBothBinders</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (lr :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n lr -&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n lr) -&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n lr) -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r</li><li><a href="#v:NotUnifiable">NotUnifiable</a> :: <span class="keyword">forall</span> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r</li></ul></li><li class="src short"><a href="#v:unifyNameBinders">unifyNameBinders</a> :: <span class="keyword">forall</span> (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> i =&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i r -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern i l r</li><li class="src short"><a href="#v:unsafeMergeUnifyBinders">unsafeMergeUnifyBinders</a> :: <span class="keyword">forall</span> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (a :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (a' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (a'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (a''' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (b' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (b'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern a a' a'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern a''' b' b'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern a b' b''</li><li class="src short"><a href="#v:andThenUnifyPatterns">andThenUnifyPatterns</a> :: <span class="keyword">forall</span> pattern (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l') =&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l l' -&gt; (pattern l r, pattern l' r') -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n r r'</li><li class="src short"><a href="#v:andThenUnifyNameBinders">andThenUnifyNameBinders</a> :: <span class="keyword">forall</span> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l') =&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l l' -&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> l r, <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> l' r') -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n r r'</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:NameBinders">NameBinders</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:UnsafeNameBinders">UnsafeNameBinders</a> <a href="../containers-0.6.8/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a></li><li class="src short"><a href="#v:unsafeMergeNameBinders">unsafeMergeNameBinders</a> :: <span class="keyword">forall</span> (a :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (b :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (c :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (d :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> a b -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> c d -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l</li><li class="src short"><a href="#v:emptyNameBinders">emptyNameBinders</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n n</li><li class="src short"><a href="#v:mergeNameBinders">mergeNameBinders</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n i -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> i l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l</li><li class="src short"><a href="#v:nameBindersSingleton">nameBindersSingleton</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l</li><li class="src short"><span class="keyword">data</span> <a href="#t:NameBinderList">NameBinderList</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:NameBinderListEmpty">NameBinderListEmpty</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n n</li><li><a href="#v:NameBinderListCons">NameBinderListCons</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n i -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> i l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l</li></ul></li><li class="src short"><a href="#v:nameBindersList">nameBindersList</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l</li><li class="src short"><a href="#v:fromNameBindersList">fromNameBindersList</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l</li><li class="src short"><span class="keyword">data</span> <a href="#t:V2">V2</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>)</li><li class="src short"><a href="#v:absurd2">absurd2</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l -&gt; a</li><li class="src short"><span class="keyword">data</span> <a href="#t:U2">U2</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:U2">U2</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n n</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern =&gt; <a href="#t:UnifiablePattern">UnifiablePattern</a> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:unifyPatterns">unifyPatterns</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; pattern n l -&gt; pattern n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:UnifiableInPattern">UnifiableInPattern</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:unifyInPattern">unifyInPattern</a> :: a -&gt; a -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul></li><li class="src short"><a href="#v:unsafeEqPattern">unsafeEqPattern</a> :: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n) =&gt; pattern n l -&gt; pattern n' l' -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:Sinkable">Sinkable</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:sinkabilityProof">sinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l) -&gt; e n -&gt; e l</li></ul></li><li class="src short"><a href="#v:sink">sink</a> :: <span class="keyword">forall</span> e (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> n l) =&gt; e n -&gt; e l</li><li class="src short"><a href="#v:extendRenaming">extendRenaming</a> :: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern =&gt; (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; pattern n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; pattern n' l' -&gt; r) -&gt; r</li><li class="src short"><a href="#v:extendNameBinderRenaming">extendNameBinderRenaming</a> :: <span class="keyword">forall</span> pattern (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern =&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i n -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i n') -&gt; pattern n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l') -&gt; pattern n' l' -&gt; r) -&gt; r</li><li class="src short"><a href="#v:composeNameBinderRenamings">composeNameBinderRenamings</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n i -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n i') -&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i' l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i' l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l'</li><li class="src short"><a href="#v:fromNameBinderRenaming">fromNameBinderRenaming</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l'</li><li class="src short"><a href="#v:extendRenamingNameBinder">extendRenamingNameBinder</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l' -&gt; r) -&gt; r</li><li class="src short"><span class="keyword">class</span> <a href="#t:CoSinkable">CoSinkable</a> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; pattern n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; pattern n' l' -&gt; r) -&gt; r</li><li><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; pattern n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; pattern o o' -&gt; r) -&gt; r</li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WithNameBinderList">WithNameBinderList</a> (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:WithNameBinderList">WithNameBinderList</a> (<a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> l r -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n r)</li><li class="src short"><a href="#v:idWithNameBinderList">idWithNameBinderList</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithNameBinderList" title="Control.Monad.Foil.Internal">WithNameBinderList</a> r n n o o'</li><li class="src short"><a href="#v:compWithNameBinderList">compWithNameBinderList</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o' o'') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithNameBinderList" title="Control.Monad.Foil.Internal">WithNameBinderList</a> r n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithNameBinderList" title="Control.Monad.Foil.Internal">WithNameBinderList</a> r i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithNameBinderList" title="Control.Monad.Foil.Internal">WithNameBinderList</a> r n l o o''</li><li class="src short"><a href="#v:nameBinderListOf">nameBinderListOf</a> :: <span class="keyword">forall</span> binder (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> binder =&gt; binder n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Substitution">Substitution</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = <a href="#v:UnsafeSubstitution">UnsafeSubstitution</a> (<a href="../containers-0.6.8/Data-IntMap-Strict-Internal.html#t:IntMap" title="Data.IntMap.Strict.Internal">IntMap</a> (e o))</li><li class="src short"><a href="#v:lookupSubst">lookupSubst</a> :: <span class="keyword">forall</span> e (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e =&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> i -&gt; e o</li><li class="src short"><a href="#v:identitySubst">identitySubst</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e =&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i i</li><li class="src short"><a href="#v:voidSubst">voidSubst</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e '<a href="Control-Monad-Foil-Internal.html#v:VoidS" title="Control.Monad.Foil.Internal">VoidS</a> n</li><li class="src short"><a href="#v:addSubst">addSubst</a> :: <span class="keyword">forall</span> e (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i i' -&gt; e o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i' o</li><li class="src short"><a href="#v:addSubstPattern">addSubstPattern</a> :: <span class="keyword">forall</span> binder e (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> binder =&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; binder i i' -&gt; [e o] -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i' o</li><li class="src short"><a href="#v:addSubstList">addSubstList</a> :: <span class="keyword">forall</span> e (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> i i' -&gt; [e o] -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i' o</li><li class="src short"><a href="#v:addRename">addRename</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e =&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i i' -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i' o</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:NameMap">NameMap</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a = <a href="#v:NameMap">NameMap</a> {<ul class="subs"><li><a href="#v:getNameMap">getNameMap</a> :: <a href="../containers-0.6.8/Data-IntMap-Strict-Internal.html#t:IntMap" title="Data.IntMap.Strict.Internal">IntMap</a> a</li></ul>}</li><li class="src short"><a href="#v:emptyNameMap">emptyNameMap</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> '<a href="Control-Monad-Foil-Internal.html#v:VoidS" title="Control.Monad.Foil.Internal">VoidS</a> a</li><li class="src short"><a href="#v:nameMapToSubstitution">nameMapToSubstitution</a> :: <span class="keyword">forall</span> (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) e (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> i (e o) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o</li><li class="src short"><a href="#v:addNameBinders">addNameBinders</a> :: <span class="keyword">forall</span> binder (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> binder =&gt; binder n l -&gt; [a] -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> n a -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> l a</li><li class="src short"><a href="#v:addNameBinderList">addNameBinderList</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l -&gt; [a] -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> n a -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> l a</li><li class="src short"><a href="#v:lookupName">lookupName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> n a -&gt; a</li><li class="src short"><a href="#v:addNameBinder">addNameBinder</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; a -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> n a -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> l a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Id">Id</a> = <a href="../base-4.19.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:RawName">RawName</a> = <a href="Control-Monad-Foil-Internal.html#t:Id" title="Control.Monad.Foil.Internal">Id</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:RawScope">RawScope</a> = <a href="../containers-0.6.8/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a></li><li class="src short"><a href="#v:rawFreshName">rawFreshName</a> :: <a href="Control-Monad-Foil-Internal.html#t:RawScope" title="Control.Monad.Foil.Internal">RawScope</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:RawName" title="Control.Monad.Foil.Internal">RawName</a></li><li class="src short"><a href="#v:rawMember">rawMember</a> :: <a href="Control-Monad-Foil-Internal.html#t:RawName" title="Control.Monad.Foil.Internal">RawName</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:RawScope" title="Control.Monad.Foil.Internal">RawScope</a> -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:ExtEndo">ExtEndo</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>)</li><li class="src short"><span class="keyword">class</span> (<a href="Control-Monad-Foil-Internal.html#t:ExtEndo" title="Control.Monad.Foil.Internal">ExtEndo</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtEndo" title="Control.Monad.Foil.Internal">ExtEndo</a> l) =&gt; <a href="#t:Ext">Ext</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>)</li><li class="src short"><span class="keyword">class</span> <a href="#t:Distinct">Distinct</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:DExt">DExt</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l, <a href="Control-Monad-Foil-Internal.html#t:Ext" title="Control.Monad.Foil.Internal">Ext</a> n l)</li><li class="src short"><span class="keyword">class</span> <a href="#t:InjectName">InjectName</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:injectName">injectName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; e n</li></ul></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Safe types and operations</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:S" class="def">S</a> <a href="src/Control.Monad.Foil.Internal.html#S" class="link">Source</a> <a href="#t:S" class="selflink">#</a></p><div class="doc"><p><code><a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a></code> is a data kind of scope indices.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:VoidS" class="def">VoidS</a></td><td class="doc"><p><code><a href="Control-Monad-Foil-Internal.html#v:VoidS" title="Control.Monad.Foil.Internal">VoidS</a></code> is the only explicit scope available to the users, representing an empty scope.
 All other scopes are represented with type variables,
 bound in rank-2 polymophic functions like <code><a href="Control-Monad-Foil-Internal.html#v:withFreshBinder" title="Control.Monad.Foil.Internal">withFreshBinder</a></code>.</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Scope" class="def">Scope</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#Scope" class="link">Source</a> <a href="#t:Scope" class="selflink">#</a></p><div class="doc"><p>A safe scope, indexed by a type-level scope index <code>n</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnsafeScope" class="def">UnsafeScope</a> <a href="Control-Monad-Foil-Internal.html#t:RawScope" title="Control.Monad.Foil.Internal">RawScope</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Scope">Instances</h4><details id="i:Scope" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Scope:NFData:1"></span> <a href="../deepseq-1.5.0.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> (<a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n)</span> <a href="src/Control.Monad.Foil.Internal.html#line-58" class="link">Source</a> <a href="#t:Scope" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Scope:NFData:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Name" class="def">Name</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#Name" class="link">Source</a> <a href="#t:Name" class="selflink">#</a></p><div class="doc"><p>A name in a safe scope, indexed by a type-level scope index <code>n</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnsafeName" class="def">UnsafeName</a> <a href="Control-Monad-Foil-Internal.html#t:RawName" title="Control.Monad.Foil.Internal">RawName</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Name">Instances</h4><details id="i:Name" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Name:Sinkable:1"></span> <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-603" class="link">Source</a> <a href="#t:Name" class="selflink">#</a></td><td class="doc"><p>Sinking a <code><a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a></code> is as simple as applying the renaming.</p></td></tr><tr><td colspan="2"><details id="i:id:Name:Sinkable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sinkabilityProof">sinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l <a href="src/Control.Monad.Foil.Internal.html#sinkabilityProof" class="link">Source</a> <a href="#v:sinkabilityProof" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Name:RelMonad:2"></span> <a href="Control-Monad-Foil-Relative.html#t:RelMonad" title="Control.Monad.Foil.Relative">RelMonad</a> <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a></span> <a href="src/Control.Monad.Foil.Example.html#line-46" class="link">Source</a> <a href="#t:RelMonad" class="selflink">#</a></td><td class="doc"><p><code><a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a></code> is a monad relative to <code><a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a></code>.</p></td></tr><tr><td colspan="2"><details id="i:id:Name:RelMonad:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Example.html">Control.Monad.Foil.Example</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rreturn">rreturn</a> :: <span class="keyword">forall</span> (a :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> a -&gt; <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a> a <a href="src/Control.Monad.Foil.Relative.html#rreturn" class="link">Source</a> <a href="#v:rreturn" class="selflink">#</a></p><p class="src"><a href="#v:rbind">rbind</a> :: <span class="keyword">forall</span> (b :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (a :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> b =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> b -&gt; <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a> a -&gt; (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> a -&gt; <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a> b) -&gt; <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a> b <a href="src/Control.Monad.Foil.Relative.html#rbind" class="link">Source</a> <a href="#v:rbind" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Name:RelMonad:3"></span> (<a href="../base-4.19.1.0/Data-Bifunctor.html#t:Bifunctor" title="Data.Bifunctor">Bifunctor</a> sig, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> binder) =&gt; <a href="Control-Monad-Foil-Relative.html#t:RelMonad" title="Control.Monad.Foil.Relative">RelMonad</a> <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> (<a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig)</span> <a href="src/Control.Monad.Free.Foil.html#line-112" class="link">Source</a> <a href="#t:RelMonad" class="selflink">#</a></td><td class="doc"><p><code><code><a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a></code> sig</code> is a monad relative to <code><a href="Foil.html#v:Name" title="Foil">Name</a></code>.</p></td></tr><tr><td colspan="2"><details id="i:id:Name:RelMonad:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Free-Foil.html">Control.Monad.Free.Foil</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rreturn">rreturn</a> :: <span class="keyword">forall</span> (a :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> a -&gt; <a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig a <a href="src/Control.Monad.Foil.Relative.html#rreturn" class="link">Source</a> <a href="#v:rreturn" class="selflink">#</a></p><p class="src"><a href="#v:rbind">rbind</a> :: <span class="keyword">forall</span> (b :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (a :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> b =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> b -&gt; <a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig a -&gt; (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> a -&gt; <a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig b) -&gt; <a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig b <a href="src/Control.Monad.Foil.Relative.html#rbind" class="link">Source</a> <a href="#v:rbind" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Name:Show:4"></span> <a href="../base-4.19.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n)</span> <a href="src/Control.Monad.Foil.Internal.html#line-62" class="link">Source</a> <a href="#t:Name" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Name:Show:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.19.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="../base-4.19.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="../base-4.19.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n] -&gt; <a href="../base-4.19.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Name:NFData:5"></span> <a href="../deepseq-1.5.0.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n)</span> <a href="src/Control.Monad.Foil.Internal.html#line-62" class="link">Source</a> <a href="#t:Name" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Name:NFData:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Name:Eq:6"></span> <a href="../base-4.19.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n)</span> <a href="src/Control.Monad.Foil.Internal.html#line-62" class="link">Source</a> <a href="#t:Name" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Name:Eq:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Name:Ord:7"></span> <a href="../base-4.19.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n)</span> <a href="src/Control.Monad.Foil.Internal.html#line-62" class="link">Source</a> <a href="#t:Name" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Name:Ord:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="../base-4.19.1.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:nameId" class="def">nameId</a> :: <span class="keyword">forall</span> (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Id" title="Control.Monad.Foil.Internal">Id</a> <a href="src/Control.Monad.Foil.Internal.html#nameId" class="link">Source</a> <a href="#v:nameId" class="selflink">#</a></p><div class="doc"><p>Convert <code><a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a></code> into an identifier.
 This may be useful for printing and debugging.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:NameBinder" class="def">NameBinder</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#NameBinder" class="link">Source</a> <a href="#t:NameBinder" class="selflink">#</a></p><div class="doc"><p>A name binder is a name that extends scope <code>n</code> to a (larger) scope <code>l</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnsafeNameBinder" class="def">UnsafeNameBinder</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NameBinder">Instances</h4><details id="i:NameBinder" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NameBinder:CoSinkable:1"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-740" class="link">Source</a> <a href="#t:NameBinder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NameBinder:CoSinkable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NameBinder:UnifiablePattern:2"></span> <a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-576" class="link">Source</a> <a href="#t:NameBinder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NameBinder:UnifiablePattern:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unifyPatterns">unifyPatterns</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l r <a href="src/Control.Monad.Foil.Internal.html#unifyPatterns" class="link">Source</a> <a href="#v:unifyPatterns" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NameBinder:Show:3"></span> <a href="../base-4.19.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Control-Monad-Free-Foil-Example.html#t:Expr" title="Control.Monad.Free.Foil.Example">Expr</a> n)</span> <a href="src/Control.Monad.Free.Foil.Example.html#line-39" class="link">Source</a> <a href="#t:Show" class="selflink">#</a></td><td class="doc"><p>Use <code><a href="Control-Monad-Free-Foil-Example.html#v:ppExpr" title="Control.Monad.Free.Foil.Example">ppExpr</a></code> to show <span class="mathjax">\(\lambda\)</span>-terms.</p></td></tr><tr><td colspan="2"><details id="i:id:NameBinder:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Free-Foil-Example.html">Control.Monad.Free.Foil.Example</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.19.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Monad-Free-Foil-Example.html#t:Expr" title="Control.Monad.Free.Foil.Example">Expr</a> n -&gt; <a href="../base-4.19.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Monad-Free-Foil-Example.html#t:Expr" title="Control.Monad.Free.Foil.Example">Expr</a> n -&gt; <a href="../base-4.19.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Monad-Free-Foil-Example.html#t:Expr" title="Control.Monad.Free.Foil.Example">Expr</a> n] -&gt; <a href="../base-4.19.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NameBinder:Show:4"></span> <a href="../base-4.19.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l)</span> <a href="src/Control.Monad.Foil.Internal.html#line-72" class="link">Source</a> <a href="#t:NameBinder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NameBinder:Show:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.19.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="../base-4.19.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="../base-4.19.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l] -&gt; <a href="../base-4.19.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NameBinder:NFData:5"></span> <a href="../deepseq-1.5.0.0/Control-DeepSeq.html#t:NFData" title="Control.DeepSeq">NFData</a> (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l)</span> <a href="src/Control.Monad.Foil.Internal.html#line-72" class="link">Source</a> <a href="#t:NameBinder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NameBinder:NFData:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NameBinder:Eq:6"></span> <a href="../base-4.19.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l)</span> <a href="src/Control.Monad.Foil.Internal.html#line-72" class="link">Source</a> <a href="#t:NameBinder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NameBinder:Eq:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NameBinder:Ord:7"></span> <a href="../base-4.19.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l)</span> <a href="src/Control.Monad.Foil.Internal.html#line-72" class="link">Source</a> <a href="#t:NameBinder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NameBinder:Ord:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="../base-4.19.1.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:emptyScope" class="def">emptyScope</a> :: <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> '<a href="Control-Monad-Foil-Internal.html#v:VoidS" title="Control.Monad.Foil.Internal">VoidS</a> <a href="src/Control.Monad.Foil.Internal.html#emptyScope" class="link">Source</a> <a href="#v:emptyScope" class="selflink">#</a></p><div class="doc"><p>An empty scope (without any names).</p></div></div><div class="top"><p class="src"><a id="v:member" class="def">member</a> :: <span class="keyword">forall</span> (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Foil.Internal.html#member" class="link">Source</a> <a href="#v:member" class="selflink">#</a></p><div class="doc"><p>A runtime check for potential name capture.</p></div></div><a href="#g:2" id="g:2"><h2>Extending scopes</h2></a><div class="top"><p class="src"><a id="v:extendScope" class="def">extendScope</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> l <a href="src/Control.Monad.Foil.Internal.html#extendScope" class="link">Source</a> <a href="#v:extendScope" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\(O(\min(n,W))\)</span>.
 Extend a scope with one name (safely).
 Note that as long as the foil is used as intended,
 the name binder is guaranteed to introduce a name
 that does not appear in the initial scope.</p></div></div><div class="top"><p class="src"><a id="v:extendScopePattern" class="def">extendScopePattern</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) pattern (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern) =&gt; pattern n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> l <a href="src/Control.Monad.Foil.Internal.html#extendScopePattern" class="link">Source</a> <a href="#v:extendScopePattern" class="selflink">#</a></p><div class="doc"><p>Extend scope with variables inside a pattern.
 This is a more flexible version of <code><a href="Control-Monad-Foil-Internal.html#v:extendScope" title="Control.Monad.Foil.Internal">extendScope</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:ExtendScope" class="def">ExtendScope</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#ExtendScope" class="link">Source</a> <a href="#t:ExtendScope" class="selflink">#</a></p><div class="doc"><p>Auxiliary data structure for scope extension. Used in <code><a href="Control-Monad-Foil-Internal.html#v:extendScopePattern" title="Control.Monad.Foil.Internal">extendScopePattern</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ExtendScope" class="def">ExtendScope</a> (<a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> l)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:idExtendScope" class="def">idExtendScope</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:ExtendScope" title="Control.Monad.Foil.Internal">ExtendScope</a> n n o o' <a href="src/Control.Monad.Foil.Internal.html#idExtendScope" class="link">Source</a> <a href="#v:idExtendScope" class="selflink">#</a></p><div class="doc"><p>Identity scope extension (no extension).</p></div></div><div class="top"><p class="src"><a id="v:compExtendScope" class="def">compExtendScope</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:ExtendScope" title="Control.Monad.Foil.Internal">ExtendScope</a> n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtendScope" title="Control.Monad.Foil.Internal">ExtendScope</a> i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtendScope" title="Control.Monad.Foil.Internal">ExtendScope</a> n l o o'' <a href="src/Control.Monad.Foil.Internal.html#compExtendScope" class="link">Source</a> <a href="#v:compExtendScope" class="selflink">#</a></p><div class="doc"><p>Compose scope extensions.</p></div></div><a href="#g:3" id="g:3"><h2>Collecting new names</h2></a><div class="top"><p class="src"><a id="v:nameOf" class="def">nameOf</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l <a href="src/Control.Monad.Foil.Internal.html#nameOf" class="link">Source</a> <a href="#v:nameOf" class="selflink">#</a></p><div class="doc"><p>Extract name from a name binder.</p></div></div><div class="top"><p class="src"><a id="v:namesOfPattern" class="def">namesOfPattern</a> :: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern) =&gt; pattern n l -&gt; [<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l] <a href="src/Control.Monad.Foil.Internal.html#namesOfPattern" class="link">Source</a> <a href="#v:namesOfPattern" class="selflink">#</a></p><div class="doc"><p>Extract names from a pattern.
 This is a more flexible version of <code>namesOf</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:NamesOf" class="def">NamesOf</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#NamesOf" class="link">Source</a> <a href="#t:NamesOf" class="selflink">#</a></p><div class="doc"><p>Auxiliary structure collecting names in scope <code>l</code> that extend scope <code>n</code>.
 Used in <code><a href="Control-Monad-Foil-Internal.html#v:namesOfPattern" title="Control.Monad.Foil.Internal">namesOfPattern</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NamesOf" class="def">NamesOf</a> [<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l]</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:idNamesOf" class="def">idNamesOf</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NamesOf" title="Control.Monad.Foil.Internal">NamesOf</a> n n o o' <a href="src/Control.Monad.Foil.Internal.html#idNamesOf" class="link">Source</a> <a href="#v:idNamesOf" class="selflink">#</a></p><div class="doc"><p>Empty list of names in scope <code>n</code>.</p></div></div><div class="top"><p class="src"><a id="v:compNamesOf" class="def">compNamesOf</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NamesOf" title="Control.Monad.Foil.Internal">NamesOf</a> n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NamesOf" title="Control.Monad.Foil.Internal">NamesOf</a> i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NamesOf" title="Control.Monad.Foil.Internal">NamesOf</a> n l o o'' <a href="src/Control.Monad.Foil.Internal.html#compNamesOf" class="link">Source</a> <a href="#v:compNamesOf" class="selflink">#</a></p><div class="doc"><p>Concatenation of names, resulting in a list of names in <code>l</code> that extend scope <code>n</code>.</p></div></div><a href="#g:4" id="g:4"><h2>Refreshing binders</h2></a><div class="top"><p class="src"><a id="v:withFreshBinder" class="def">withFreshBinder</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; (<span class="keyword">forall</span> (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withFreshBinder" class="link">Source</a> <a href="#v:withFreshBinder" class="selflink">#</a></p><div class="doc"><p>Allocate a fresh binder for a given scope.</p></div></div><div class="top"><p class="src"><a id="v:withFresh" class="def">withFresh</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> n -&gt; (<span class="keyword">forall</span> (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> n l =&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withFresh" class="link">Source</a> <a href="#v:withFresh" class="selflink">#</a></p><div class="doc"><p>Safely produce a fresh name binder with respect to a given scope.</p></div></div><div class="top"><p class="src"><a id="v:withFreshPattern" class="def">withFreshPattern</a> <a href="src/Control.Monad.Foil.Internal.html#withFreshPattern" class="link">Source</a> <a href="#v:withFreshPattern" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) pattern (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o</td><td class="doc"><p>Ambient scope.</p></td></tr><tr><td class="src">-&gt; pattern n l</td><td class="doc"><p>Pattern to refresh (if it clashes with the ambient scope).</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; (<a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e n o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e l o') -&gt; pattern o o' -&gt; r)</td><td class="doc"><p>Continuation, accepting the refreshed pattern.</p></td></tr><tr><td class="src">-&gt; r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Rename a given pattern into a fresh version of it to extend a given scope.</p><p>This is similar to <code>withRefreshPattern</code>, except here renaming always takes place.</p></div></div><div class="top"><p class="src"><a id="v:withRefreshed" class="def">withRefreshed</a> <a href="src/Control.Monad.Foil.Internal.html#withRefreshed" class="link">Source</a> <a href="#v:withRefreshed" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o</td><td class="doc"><p>Ambient scope.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> i</td><td class="doc"><p>Name to refresh (if it clashes with the ambient scope).</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> o o' -&gt; r)</td><td class="doc"><p>Continuation, accepting the refreshed name.</p></td></tr><tr><td class="src">-&gt; r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Safely rename (if necessary) a given name to extend a given scope.
 This is similar to <code><a href="Control-Monad-Foil-Internal.html#v:withFresh" title="Control.Monad.Foil.Internal">withFresh</a></code>, except if the name does not clash with
 the scope, it can be used immediately, without renaming.</p></div></div><div class="top"><p class="src"><a id="v:withRefreshedPattern" class="def">withRefreshedPattern</a> <a href="src/Control.Monad.Foil.Internal.html#withRefreshedPattern" class="link">Source</a> <a href="#v:withRefreshedPattern" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) pattern (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o</td><td class="doc"><p>Ambient scope.</p></td></tr><tr><td class="src">-&gt; pattern n l</td><td class="doc"><p>Pattern to refresh (if it clashes with the ambient scope).</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; (<a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e n o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e l o') -&gt; pattern o o' -&gt; r)</td><td class="doc"><p>Continuation, accepting the refreshed pattern.</p></td></tr><tr><td class="src">-&gt; r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Safely rename (if necessary) a given pattern to extend a given scope.
 This is similar to <code><a href="Control-Monad-Foil-Internal.html#v:withFreshPattern" title="Control.Monad.Foil.Internal">withFreshPattern</a></code>, except if a name in the pattern
 does not clash with the scope, it can be used immediately, without renaming.</p><p>This is a more general version of <code><a href="Control-Monad-Foil-Internal.html#v:withRefreshed" title="Control.Monad.Foil.Internal">withRefreshed</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:withRefreshedPattern-39-" class="def">withRefreshedPattern'</a> :: <span class="keyword">forall</span> pattern (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) e (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o, <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e, <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e) =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; pattern n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; ((<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; e o) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; e o') -&gt; pattern o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withRefreshedPattern%27" class="link">Source</a> <a href="#v:withRefreshedPattern-39-" class="selflink">#</a></p><div class="doc"><p>Refresh (if needed) bound variables introduced in a pattern.</p><p>This is a version of <code><a href="Control-Monad-Foil-Internal.html#v:withRefreshedPattern" title="Control.Monad.Foil.Internal">withRefreshedPattern</a></code> that uses functional renamings instead of <code><a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:unsafeAssertFresh" class="def">unsafeAssertFresh</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> n' l' =&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#unsafeAssertFresh" class="link">Source</a> <a href="#v:unsafeAssertFresh" class="selflink">#</a></p><div class="doc"><p>Unsafely declare that a given name (binder)
 is already fresh in any scope <code>n'</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WithRefreshedPattern" class="def">WithRefreshedPattern</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#WithRefreshedPattern" class="link">Source</a> <a href="#t:WithRefreshedPattern" class="selflink">#</a></p><div class="doc"><p>Auxiliary structure to accumulate substitution extensions
 produced when refreshing a pattern.
 Used in <code><a href="Control-Monad-Foil-Internal.html#v:withRefreshedPattern" title="Control.Monad.Foil.Internal">withRefreshedPattern</a></code> and <code><a href="Control-Monad-Foil-Internal.html#v:withFreshPattern" title="Control.Monad.Foil.Internal">withFreshPattern</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WithRefreshedPattern" class="def">WithRefreshedPattern</a> (<a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e n o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e l o')</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:idWithRefreshedPattern" class="def">idWithRefreshedPattern</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern" title="Control.Monad.Foil.Internal">WithRefreshedPattern</a> e n n o o' <a href="src/Control.Monad.Foil.Internal.html#idWithRefreshedPattern" class="link">Source</a> <a href="#v:idWithRefreshedPattern" class="selflink">#</a></p><div class="doc"><p>Trivial substitution (coercion via <code><a href="Control-Monad-Foil-Internal.html#v:sink" title="Control.Monad.Foil.Internal">sink</a></code>).</p></div></div><div class="top"><p class="src"><a id="v:compWithRefreshedPattern" class="def">compWithRefreshedPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o' o'') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern" title="Control.Monad.Foil.Internal">WithRefreshedPattern</a> e n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern" title="Control.Monad.Foil.Internal">WithRefreshedPattern</a> e i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern" title="Control.Monad.Foil.Internal">WithRefreshedPattern</a> e n l o o'' <a href="src/Control.Monad.Foil.Internal.html#compWithRefreshedPattern" class="link">Source</a> <a href="#v:compWithRefreshedPattern" class="selflink">#</a></p><div class="doc"><p>Composition of substitution extensions.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WithRefreshedPattern-39-" class="def">WithRefreshedPattern'</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#WithRefreshedPattern%27" class="link">Source</a> <a href="#t:WithRefreshedPattern-39-" class="selflink">#</a></p><div class="doc"><p>Auxiliary structure to accumulate substitution extensions
 produced when refreshing a pattern.
 Similar to <code><a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern" title="Control.Monad.Foil.Internal">WithRefreshedPattern</a></code>, except here substitutions are represented as functions.
 Used in <code><a href="Control-Monad-Foil-Internal.html#v:withRefreshedPattern-39-" title="Control.Monad.Foil.Internal">withRefreshedPattern'</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WithRefreshedPattern-39-" class="def">WithRefreshedPattern'</a> ((<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; e o) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; e o')</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:idWithRefreshedPattern-39-" class="def">idWithRefreshedPattern'</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern-39-" title="Control.Monad.Foil.Internal">WithRefreshedPattern'</a> e n n o o' <a href="src/Control.Monad.Foil.Internal.html#idWithRefreshedPattern%27" class="link">Source</a> <a href="#v:idWithRefreshedPattern-39-" class="selflink">#</a></p><div class="doc"><p>Trivial substitution extension (coercion via <code><a href="Control-Monad-Foil-Internal.html#v:sink" title="Control.Monad.Foil.Internal">sink</a></code>).</p></div></div><div class="top"><p class="src"><a id="v:compWithRefreshedPattern-39-" class="def">compWithRefreshedPattern'</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o' o'') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern-39-" title="Control.Monad.Foil.Internal">WithRefreshedPattern'</a> e n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern-39-" title="Control.Monad.Foil.Internal">WithRefreshedPattern'</a> e i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithRefreshedPattern-39-" title="Control.Monad.Foil.Internal">WithRefreshedPattern'</a> e n l o o'' <a href="src/Control.Monad.Foil.Internal.html#compWithRefreshedPattern%27" class="link">Source</a> <a href="#v:compWithRefreshedPattern-39-" class="selflink">#</a></p><div class="doc"><p>Composition of substitution extensions.</p></div></div><a href="#g:5" id="g:5"><h2>Extracting proofs from binders and patterns</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DistinctEvidence" class="def">DistinctEvidence</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#DistinctEvidence" class="link">Source</a> <a href="#t:DistinctEvidence" class="selflink">#</a></p><div class="doc"><p>Evidence that scope <code>n</code> contains distinct names.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Distinct" class="def">Distinct</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:DistinctEvidence" title="Control.Monad.Foil.Internal">DistinctEvidence</a> n</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ExtEvidence" class="def">ExtEvidence</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#ExtEvidence" class="link">Source</a> <a href="#t:ExtEvidence" class="selflink">#</a></p><div class="doc"><p>Evidence that scope <code>l</code> extends scope <code>n</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Ext" class="def">Ext</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Ext" title="Control.Monad.Foil.Internal">Ext</a> n l =&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtEvidence" title="Control.Monad.Foil.Internal">ExtEvidence</a> n l</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:assertDistinct" class="def">assertDistinct</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) pattern (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern) =&gt; pattern n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:DistinctEvidence" title="Control.Monad.Foil.Internal">DistinctEvidence</a> l <a href="src/Control.Monad.Foil.Internal.html#assertDistinct" class="link">Source</a> <a href="#v:assertDistinct" class="selflink">#</a></p><div class="doc"><p>A distinct scope extended with a <code><a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></code> is also distinct.</p></div></div><div class="top"><p class="src"><a id="v:assertExt" class="def">assertExt</a> :: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern =&gt; pattern n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtEvidence" title="Control.Monad.Foil.Internal">ExtEvidence</a> n l <a href="src/Control.Monad.Foil.Internal.html#assertExt" class="link">Source</a> <a href="#v:assertExt" class="selflink">#</a></p><div class="doc"><p>A distinct scope extended with a <code><a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></code> is also distinct.</p></div></div><div class="top"><p class="src"><a id="v:unsafeDistinct" class="def">unsafeDistinct</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DistinctEvidence" title="Control.Monad.Foil.Internal">DistinctEvidence</a> n <a href="src/Control.Monad.Foil.Internal.html#unsafeDistinct" class="link">Source</a> <a href="#v:unsafeDistinct" class="selflink">#</a></p><div class="doc"><p>Unsafely declare that scope <code>n</code> is distinct.
 Used in <code><a href="Control-Monad-Foil-Internal.html#v:unsafeAssertFresh" title="Control.Monad.Foil.Internal">unsafeAssertFresh</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:unsafeExt" class="def">unsafeExt</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:ExtEvidence" title="Control.Monad.Foil.Internal">ExtEvidence</a> n l <a href="src/Control.Monad.Foil.Internal.html#unsafeExt" class="link">Source</a> <a href="#v:unsafeExt" class="selflink">#</a></p><div class="doc"><p>Unsafely declare that scope <code>l</code> extends scope <code>n</code>.
 Used in <code><a href="Control-Monad-Foil-Internal.html#v:unsafeAssertFresh" title="Control.Monad.Foil.Internal">unsafeAssertFresh</a></code>.</p></div></div><a href="#g:6" id="g:6"><h2>Unsinking names</h2></a><div class="top"><p class="src"><a id="v:unsinkName" class="def">unsinkName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="../base-4.19.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n) <a href="src/Control.Monad.Foil.Internal.html#unsinkName" class="link">Source</a> <a href="#v:unsinkName" class="selflink">#</a></p><div class="doc"><p>Try coercing the name back to the (smaller) scope,
 given a binder that extends that scope.</p></div></div><div class="top"><p class="src"><a id="v:unsinkNamePattern" class="def">unsinkNamePattern</a> :: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern) =&gt; pattern n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="../base-4.19.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n) <a href="src/Control.Monad.Foil.Internal.html#unsinkNamePattern" class="link">Source</a> <a href="#v:unsinkNamePattern" class="selflink">#</a></p><div class="doc"><p>Check if a name in the extended context
 is introduced in a pattern or comes from the outer scope <code>n</code>.</p><p>This is a generalization of <code><a href="Control-Monad-Foil-Internal.html#v:unsinkName" title="Control.Monad.Foil.Internal">unsinkName</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:UnsinkName" class="def">UnsinkName</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#UnsinkName" class="link">Source</a> <a href="#t:UnsinkName" class="selflink">#</a></p><div class="doc"><p>Auxiliary structure for unsinking names.
 Used in <code><a href="Control-Monad-Foil-Internal.html#v:unsinkNamePattern" title="Control.Monad.Foil.Internal">unsinkNamePattern</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnsinkName" class="def">UnsinkName</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="../base-4.19.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n))</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:idUnsinkName" class="def">idUnsinkName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:UnsinkName" title="Control.Monad.Foil.Internal">UnsinkName</a> n n o o' <a href="src/Control.Monad.Foil.Internal.html#idUnsinkName" class="link">Source</a> <a href="#v:idUnsinkName" class="selflink">#</a></p><div class="doc"><p>Trivial unsinking. If no scope extension took place, any name is free (since it cannot be bound by anything).</p></div></div><div class="top"><p class="src"><a id="v:compUnsinkName" class="def">compUnsinkName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:UnsinkName" title="Control.Monad.Foil.Internal">UnsinkName</a> n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnsinkName" title="Control.Monad.Foil.Internal">UnsinkName</a> i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnsinkName" title="Control.Monad.Foil.Internal">UnsinkName</a> n l o o'' <a href="src/Control.Monad.Foil.Internal.html#compUnsinkName" class="link">Source</a> <a href="#v:compUnsinkName" class="selflink">#</a></p><div class="doc"><p>Composition of unsinking for nested binders/patterns.</p></div></div><a href="#g:7" id="g:7"><h1>Unification of binders</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:UnifyNameBinders" class="def">UnifyNameBinders</a> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#UnifyNameBinders" class="link">Source</a> <a href="#t:UnifyNameBinders" class="selflink">#</a></p><div class="doc"><p>Unification result for two binders,
 extending some common scope to scopes <code>l</code> and <code>r</code> respectively.</p><p>Due to the implementation of the foil, we can often rename binders efficiently,
 by renaming binders only in one of the two unified terms.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SameNameBinders" class="def">SameNameBinders</a></td><td class="doc"><p>Binders are the same, proving that type parameters <code>l</code> and <code>r</code>
 are in fact equivalent.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l</dfn><div class="doc"><p><em>Unordered</em> set of binders in the unified pattern (from any of the original patterns).</p></div></li><li><dfn class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l l</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:RenameLeftNameBinder" class="def">RenameLeftNameBinder</a></td><td class="doc"><p>It is possible to safely rename the left binder
 to match the right one.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n r</dfn><div class="doc"><p><em>Unordered</em> set of binders in the unified pattern (the binders from the right pattern).</p></div></li><li><dfn class="src">-&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n r)</dfn><div class="doc"><p>Binder renaming for the left pattern.</p></div></li><li><dfn class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:RenameRightNameBinder" class="def">RenameRightNameBinder</a></td><td class="doc"><p>It is possible to safely rename the right binder
 to match the left one.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l</dfn><div class="doc"><p><em>Unordered</em> set of binders in the unified pattern (the binders from the left pattern).</p></div></li><li><dfn class="src">-&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l)</dfn><div class="doc"><p>Binder renaming for the right pattern.</p></div></li><li><dfn class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:RenameBothBinders" class="def">RenameBothBinders</a></td><td class="doc"><p>It is necessary to rename both binders.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (lr :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n lr</dfn><div class="doc"><p><em>Unordered</em> set of binders in the unified pattern</p></div></li><li><dfn class="src">-&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n lr)</dfn><div class="doc"><p>Binder renaming for the left pattern.</p></div></li><li><dfn class="src">-&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n lr)</dfn><div class="doc"><p>Binder renaming for the right pattern.</p></div></li><li><dfn class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:NotUnifiable" class="def">NotUnifiable</a> :: <span class="keyword">forall</span> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r</td><td class="doc"><p>Cannot unify to (sub)patterns.</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:unifyNameBinders" class="def">unifyNameBinders</a> <a href="src/Control.Monad.Foil.Internal.html#unifyNameBinders" class="link">Source</a> <a href="#v:unifyNameBinders" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> i</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i l</td><td class="doc"><p>Left pattern.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i r</td><td class="doc"><p>Right pattern.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern i l r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Unify binders either by asserting that they are the same,
 or by providing a <em>safe</em> renaming function to convert one binder to another.</p></div></div><div class="top"><p class="src"><a id="v:unsafeMergeUnifyBinders" class="def">unsafeMergeUnifyBinders</a> :: <span class="keyword">forall</span> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (a :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (a' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (a'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (a''' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (b' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (b'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern a a' a'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern a''' b' b'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern a b' b'' <a href="src/Control.Monad.Foil.Internal.html#unsafeMergeUnifyBinders" class="link">Source</a> <a href="#v:unsafeMergeUnifyBinders" class="selflink">#</a></p><div class="doc"><p>Unsafely merge results of unification for nested binders/patterns.
 Used in <code><a href="Control-Monad-Foil-Internal.html#v:andThenUnifyPatterns" title="Control.Monad.Foil.Internal">andThenUnifyPatterns</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:andThenUnifyPatterns" class="def">andThenUnifyPatterns</a> <a href="src/Control.Monad.Foil.Internal.html#andThenUnifyPatterns" class="link">Source</a> <a href="#v:andThenUnifyPatterns" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> pattern (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l l'</td><td class="doc"><p>Unifying action for some outer patterns.</p></td></tr><tr><td class="src">-&gt; (pattern l r, pattern l' r')</td><td class="doc"><p>Two nested patterns (cannot be unified directly since they extend different scopes).</p></td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n r r'</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Chain unification of nested patterns.</p></div></div><div class="top"><p class="src"><a id="v:andThenUnifyNameBinders" class="def">andThenUnifyNameBinders</a> <a href="src/Control.Monad.Foil.Internal.html#andThenUnifyNameBinders" class="link">Source</a> <a href="#v:andThenUnifyNameBinders" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l l'</td><td class="doc"><p>Unifying action for some outer patterns.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> l r, <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> l' r')</td><td class="doc"><p>Two nested binders (cannot be unified directly since they extend different scopes).</p></td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n r r'</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Chain unification of nested patterns with <code><a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></code>s.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:NameBinders" class="def">NameBinders</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#NameBinders" class="link">Source</a> <a href="#t:NameBinders" class="selflink">#</a></p><div class="doc"><p>An <em>unordered</em> collection of <code><a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></code>s, that together extend scope <code>n</code> to scope <code>l</code>.</p><p>For an ordered version see <code><a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnsafeNameBinders" class="def">UnsafeNameBinders</a> <a href="../containers-0.6.8/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NameBinders">Instances</h4><details id="i:NameBinders" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NameBinders:CoSinkable:1"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-509" class="link">Source</a> <a href="#t:NameBinders" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NameBinders:CoSinkable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:unsafeMergeNameBinders" class="def">unsafeMergeNameBinders</a> :: <span class="keyword">forall</span> (a :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (b :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (c :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (d :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> a b -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> c d -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l <a href="src/Control.Monad.Foil.Internal.html#unsafeMergeNameBinders" class="link">Source</a> <a href="#v:unsafeMergeNameBinders" class="selflink">#</a></p><div class="doc"><p><em>Unsafely</em> merge sets of binders (via set union).</p></div></div><div class="top"><p class="src"><a id="v:emptyNameBinders" class="def">emptyNameBinders</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n n <a href="src/Control.Monad.Foil.Internal.html#emptyNameBinders" class="link">Source</a> <a href="#v:emptyNameBinders" class="selflink">#</a></p><div class="doc"><p>An empty set of binders keeps the scope as is.</p></div></div><div class="top"><p class="src"><a id="v:mergeNameBinders" class="def">mergeNameBinders</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n i -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> i l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l <a href="src/Control.Monad.Foil.Internal.html#mergeNameBinders" class="link">Source</a> <a href="#v:mergeNameBinders" class="selflink">#</a></p><div class="doc"><p>Composition of sets of binders.</p></div></div><div class="top"><p class="src"><a id="v:nameBindersSingleton" class="def">nameBindersSingleton</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l <a href="src/Control.Monad.Foil.Internal.html#nameBindersSingleton" class="link">Source</a> <a href="#v:nameBindersSingleton" class="selflink">#</a></p><div class="doc"><p>A singleton name binder set.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NameBinderList" class="def">NameBinderList</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#NameBinderList" class="link">Source</a> <a href="#t:NameBinderList" class="selflink">#</a></p><div class="doc"><p>An <em>ordered</em> collection (list) of <code><a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></code>s, that together extend scope <code>n</code> to scope <code>l</code>.</p><p>For an unordered version see <code><a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NameBinderListEmpty" class="def">NameBinderListEmpty</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n n</td><td class="doc"><p>An empty list of binders keeps the scope as is.</p></td></tr><tr><td class="src"><a id="v:NameBinderListCons" class="def">NameBinderListCons</a></td><td class="doc"><p>A non-empty list of binders.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n i</dfn><div class="doc"><p>Outermost binder.</p></div></li><li><dfn class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> i l</dfn><div class="doc"><p>Remaining list of binders.</p></div></li><li><dfn class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NameBinderList">Instances</h4><details id="i:NameBinderList" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NameBinderList:CoSinkable:1"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-517" class="link">Source</a> <a href="#t:NameBinderList" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NameBinderList:CoSinkable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:nameBindersList" class="def">nameBindersList</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l <a href="src/Control.Monad.Foil.Internal.html#nameBindersList" class="link">Source</a> <a href="#v:nameBindersList" class="selflink">#</a></p><div class="doc"><p>Convert an unordered set of name binders into an ordered list (with some order).</p></div></div><div class="top"><p class="src"><a id="v:fromNameBindersList" class="def">fromNameBindersList</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l <a href="src/Control.Monad.Foil.Internal.html#fromNameBindersList" class="link">Source</a> <a href="#v:fromNameBindersList" class="selflink">#</a></p><div class="doc"><p>Convert an ordered list of name binders into an unordered set.</p></div></div><a href="#g:8" id="g:8"><h2>Pattern combinators</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:V2" class="def">V2</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#V2" class="link">Source</a> <a href="#t:V2" class="selflink">#</a></p><div class="doc"><p>An empty pattern type specifies zero possibilities for patterns.</p><p>This type can be used to specify that patterns are not possible.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:V2">Instances</h4><details id="i:V2" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:V2:CoSinkable:1"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-543" class="link">Source</a> <a href="#t:V2" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:V2:CoSinkable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:V2:UnifiablePattern:2"></span> <a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-546" class="link">Source</a> <a href="#t:V2" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:V2:UnifiablePattern:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unifyPatterns">unifyPatterns</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l r <a href="src/Control.Monad.Foil.Internal.html#unifyPatterns" class="link">Source</a> <a href="#v:unifyPatterns" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:absurd2" class="def">absurd2</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l -&gt; a <a href="src/Control.Monad.Foil.Internal.html#absurd2" class="link">Source</a> <a href="#v:absurd2" class="selflink">#</a></p><div class="doc"><p>Since <code><a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a></code> values logically don't exist, this witnesses the logical reasoning tool of &quot;ex falso quodlibet&quot;.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:U2" class="def">U2</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#U2" class="link">Source</a> <a href="#t:U2" class="selflink">#</a></p><div class="doc"><p>A unit pattern type corresponds to a wildcard pattern.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:U2" class="def">U2</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n n</dfn><div class="doc"><p>Wildcard patten does not modify the scope.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:U2">Instances</h4><details id="i:U2" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:U2:CoSinkable:1"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-553" class="link">Source</a> <a href="#t:U2" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:U2:CoSinkable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:U2:UnifiablePattern:2"></span> <a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-556" class="link">Source</a> <a href="#t:U2" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:U2:UnifiablePattern:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unifyPatterns">unifyPatterns</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n l r <a href="src/Control.Monad.Foil.Internal.html#unifyPatterns" class="link">Source</a> <a href="#v:unifyPatterns" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:9" id="g:9"><h2>Unifiable patterns</h2></a><div class="top"><p class="src"><span class="keyword">class</span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern =&gt; <a id="t:UnifiablePattern" class="def">UnifiablePattern</a> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#UnifiablePattern" class="link">Source</a> <a href="#t:UnifiablePattern" class="selflink">#</a></p><div class="doc"><p>A pattern type is unifiable if it is possible to match two
 patterns and decide how to rename binders.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:unifyPatterns" class="def">unifyPatterns</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; pattern n l -&gt; pattern n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> pattern n l r <a href="src/Control.Monad.Foil.Internal.html#unifyPatterns" class="link">Source</a> <a href="#v:unifyPatterns" class="selflink">#</a></p><div class="doc"><p>Unify two patterns and decide which binders need to be renamed.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:UnifiablePattern">Instances</h4><details id="i:UnifiablePattern" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:UnifiablePattern:UnifiablePattern:1"></span> <a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-576" class="link">Source</a> <a href="#t:UnifiablePattern" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:UnifiablePattern:UnifiablePattern:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unifyPatterns">unifyPatterns</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l r <a href="src/Control.Monad.Foil.Internal.html#unifyPatterns" class="link">Source</a> <a href="#v:unifyPatterns" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:UnifiablePattern:UnifiablePattern:2"></span> <a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-556" class="link">Source</a> <a href="#t:UnifiablePattern" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:UnifiablePattern:UnifiablePattern:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unifyPatterns">unifyPatterns</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n l r <a href="src/Control.Monad.Foil.Internal.html#unifyPatterns" class="link">Source</a> <a href="#v:unifyPatterns" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:UnifiablePattern:UnifiablePattern:3"></span> <a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-546" class="link">Source</a> <a href="#t:UnifiablePattern" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:UnifiablePattern:UnifiablePattern:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:unifyPatterns">unifyPatterns</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n r -&gt; <a href="Control-Monad-Foil-Internal.html#t:UnifyNameBinders" title="Control.Monad.Foil.Internal">UnifyNameBinders</a> <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l r <a href="src/Control.Monad.Foil.Internal.html#unifyPatterns" class="link">Source</a> <a href="#v:unifyPatterns" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:UnifiableInPattern" class="def">UnifiableInPattern</a> a <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#UnifiableInPattern" class="link">Source</a> <a href="#t:UnifiableInPattern" class="selflink">#</a></p><div class="doc"><p>Unification of values in patterns.
 By default, <code><a href="../base-4.19.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a></code> instance is used, but it may be useful to ignore
 some data in pattens (such as location annotations).</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:unifyInPattern" class="def">unifyInPattern</a> :: a -&gt; a -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Foil.Internal.html#unifyInPattern" class="link">Source</a> <a href="#v:unifyInPattern" class="selflink">#</a></p><div class="doc"><p>Unify non-binding components of a pattern.</p></div> <div class="subs default"><p class="caption"></p><p class="src"><span class="keyword">default</span> <a id="v:unifyInPattern" class="def">unifyInPattern</a> :: <a href="../base-4.19.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; a -&gt; a -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Foil.Internal.html#unifyInPattern" class="link">Source</a> <a href="#v:unifyInPattern" class="selflink">#</a></p></div></div></div><div class="top"><p class="src"><a id="v:unsafeEqPattern" class="def">unsafeEqPattern</a> :: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:UnifiablePattern" title="Control.Monad.Foil.Internal">UnifiablePattern</a> pattern, <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> n) =&gt; pattern n l -&gt; pattern n' l' -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Foil.Internal.html#unsafeEqPattern" class="link">Source</a> <a href="#v:unsafeEqPattern" class="selflink">#</a></p><div class="doc"><p>The easiest way to compare two patterns is to check if they are the same.
 This function is labelled <em>unsafe</em>, since we generally are interested in proper &#945;-equivalence
 instead of direct equality.</p></div></div><a href="#g:10" id="g:10"><h1>Safe sinking</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Sinkable" class="def">Sinkable</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#Sinkable" class="link">Source</a> <a href="#t:Sinkable" class="selflink">#</a></p><div class="doc"><p>Sinking an expression from scope <code>n</code> into a (usualy extended) scope <code>l</code>,
 given the renaming (injection from scope <code>n</code> to scope <code>l</code>).</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:sinkabilityProof" class="def">sinkabilityProof</a> <a href="src/Control.Monad.Foil.Internal.html#sinkabilityProof" class="link">Source</a> <a href="#v:sinkabilityProof" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l)</td><td class="doc"><p>Map names from scope <code>n</code> to a (possibly larger) scope <code>l</code>.</p></td></tr><tr><td class="src">-&gt; e n</td><td class="doc"><p>Expression with free variables in scope <code>n</code>.</p></td></tr><tr><td class="src">-&gt; e l</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An implementation of this method that typechecks
 proves to the compiler that the expression is indeed
 <code><a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a></code>. However, instead of this implementation, <code><a href="Control-Monad-Foil-Internal.html#v:sink" title="Control.Monad.Foil.Internal">sink</a></code>
 should be used at all call sites for efficiency.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Sinkable">Instances</h4><details id="i:Sinkable" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Sinkable:Sinkable:1"></span> <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a></span> <a href="src/Control.Monad.Foil.Example.html#line-36" class="link">Source</a> <a href="#t:Sinkable" class="selflink">#</a></td><td class="doc"><p>This instance serves as a proof
 that sinking of <code><a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a></code> is safe.</p></td></tr><tr><td colspan="2"><details id="i:ic:Sinkable:Sinkable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Example.html">Control.Monad.Foil.Example</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sinkabilityProof">sinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l) -&gt; <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a> n -&gt; <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a> l <a href="src/Control.Monad.Foil.Internal.html#sinkabilityProof" class="link">Source</a> <a href="#v:sinkabilityProof" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Sinkable:Sinkable:2"></span> <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-603" class="link">Source</a> <a href="#t:Sinkable" class="selflink">#</a></td><td class="doc"><p>Sinking a <code><a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a></code> is as simple as applying the renaming.</p></td></tr><tr><td colspan="2"><details id="i:ic:Sinkable:Sinkable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sinkabilityProof">sinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l <a href="src/Control.Monad.Foil.Internal.html#sinkabilityProof" class="link">Source</a> <a href="#v:sinkabilityProof" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Sinkable:Sinkable:3"></span> <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e =&gt; <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> (<a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i)</span> <a href="src/Control.Monad.Foil.Internal.html#line-804" class="link">Source</a> <a href="#t:Sinkable" class="selflink">#</a></td><td class="doc"><p>Substitutions are sinkable as long as corresponding expressions are.</p></td></tr><tr><td colspan="2"><details id="i:ic:Sinkable:Sinkable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sinkabilityProof">sinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i l <a href="src/Control.Monad.Foil.Internal.html#sinkabilityProof" class="link">Source</a> <a href="#v:sinkabilityProof" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Sinkable:Sinkable:4"></span> (<a href="../base-4.19.1.0/Data-Bifunctor.html#t:Bifunctor" title="Data.Bifunctor">Bifunctor</a> sig, <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> binder) =&gt; <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> (<a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig)</span> <a href="src/Control.Monad.Free.Foil.html#line-54" class="link">Source</a> <a href="#t:Sinkable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Sinkable:Sinkable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Free-Foil.html">Control.Monad.Free.Foil</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sinkabilityProof">sinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l) -&gt; <a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig n -&gt; <a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig l <a href="src/Control.Monad.Foil.Internal.html#sinkabilityProof" class="link">Source</a> <a href="#v:sinkabilityProof" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:sink" class="def">sink</a> :: <span class="keyword">forall</span> e (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e, <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> n l) =&gt; e n -&gt; e l <a href="src/Control.Monad.Foil.Internal.html#sink" class="link">Source</a> <a href="#v:sink" class="selflink">#</a></p><div class="doc"><p>Efficient version of <code><a href="Control-Monad-Foil-Internal.html#v:sinkabilityProof" title="Control.Monad.Foil.Internal">sinkabilityProof</a></code>.
 In fact, once <code><a href="Control-Monad-Foil-Internal.html#v:sinkabilityProof" title="Control.Monad.Foil.Internal">sinkabilityProof</a></code> typechecks,
 it is safe to <code><a href="Control-Monad-Foil-Internal.html#v:sink" title="Control.Monad.Foil.Internal">sink</a></code> by coercion.
 See Section 3.5 in <a href="https://doi.org/10.1145/3587216.3587224">&#171;The Foil: Capture-Avoiding Substitution With No Sharp Edges&#187;</a> for the details.</p></div></div><div class="top"><p class="src"><a id="v:extendRenaming" class="def">extendRenaming</a> <a href="src/Control.Monad.Foil.Internal.html#extendRenaming" class="link">Source</a> <a href="#v:extendRenaming" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> pattern (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n')</td><td class="doc"><p>Map names from scope <code>n</code> to a (possibly larger) scope <code>n'</code>.</p></td></tr><tr><td class="src">-&gt; pattern n l</td><td class="doc"><p>A pattern that extends scope <code>n</code> to another scope <code>l</code>.</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; pattern n' l' -&gt; r)</td><td class="doc"><p>A continuation, accepting an extended renaming from <code>l</code> to <code>l'</code> (which itself extends <code>n'</code>)
 and a (possibly refreshed) pattern that extends <code>n'</code> to <code>l'</code>.</p></td></tr><tr><td class="src">-&gt; r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Extend renaming when going under a <code><a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a></code> pattern (generalized binder).
 Note that the scope under pattern is independent of the codomain of the renaming.</p><p>This function is used to go under binders when implementing <code><a href="Control-Monad-Foil-Internal.html#v:sinkabilityProof" title="Control.Monad.Foil.Internal">sinkabilityProof</a></code>
 and is both a generalization of <code><a href="Control-Monad-Foil-Internal.html#v:extendRenamingNameBinder" title="Control.Monad.Foil.Internal">extendRenamingNameBinder</a></code> and an efficient implementation of <code><a href="Control-Monad-Foil-Internal.html#v:coSinkabilityProof" title="Control.Monad.Foil.Internal">coSinkabilityProof</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:extendNameBinderRenaming" class="def">extendNameBinderRenaming</a> <a href="src/Control.Monad.Foil.Internal.html#extendNameBinderRenaming" class="link">Source</a> <a href="#v:extendNameBinderRenaming" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> pattern (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> pattern</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i n -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i n')</td><td class="doc"><p>Map names from scope <code>n</code> to a (possibly larger) scope <code>n'</code>.</p></td></tr><tr><td class="src">-&gt; pattern n l</td><td class="doc"><p>A pattern that extends scope <code>n</code> to another scope <code>l</code>.</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l') -&gt; pattern n' l' -&gt; r)</td><td class="doc"><p>A continuation, accepting an extended renaming from <code>l</code> to <code>l'</code> (which itself extends <code>n'</code>)
 and a (possibly refreshed) pattern that extends <code>n'</code> to <code>l'</code>.</p></td></tr><tr><td class="src">-&gt; r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Extend renaming of binders when going under a <code><a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a></code> pattern (generalized binder).
 Note that the scope under pattern is independent of the codomain of the renaming.</p></div></div><div class="top"><p class="src"><a id="v:composeNameBinderRenamings" class="def">composeNameBinderRenamings</a> <a href="src/Control.Monad.Foil.Internal.html#composeNameBinderRenamings" class="link">Source</a> <a href="#v:composeNameBinderRenamings" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n i -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n i')</td><td class="doc"><p>Rename binders extending scope <code>n</code> from <code>i</code> to <code>i'</code>.</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i' l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i' l')</td><td class="doc"><p>Rename binders extending scope <code>i'</code> from <code>l</code> to <code>l'</code>.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l'</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Safely compose renamings of name binders.
 The underlying implementation is</p></div></div><div class="top"><p class="src"><a id="v:fromNameBinderRenaming" class="def">fromNameBinderRenaming</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l' <a href="src/Control.Monad.Foil.Internal.html#fromNameBinderRenaming" class="link">Source</a> <a href="#v:fromNameBinderRenaming" class="selflink">#</a></p><div class="doc"><p>Convert renaming of name binders into renaming of names in the inner scopes.</p></div></div><div class="top"><p class="src"><a id="v:extendRenamingNameBinder" class="def">extendRenamingNameBinder</a> <a href="src/Control.Monad.Foil.Internal.html#extendRenamingNameBinder" class="link">Source</a> <a href="#v:extendRenamingNameBinder" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n')</td><td class="doc"><p>Map names from scope <code>n</code> to a (possibly larger) scope <code>n'</code>.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l</td><td class="doc"><p>A name binder that extends scope <code>n</code> to another scope <code>l</code>.</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l' -&gt; r)</td><td class="doc"><p>A continuation, accepting an extended renaming from <code>l</code> to <code>l'</code> (which itself extends <code>n'</code>)
 and a (possibly refreshed) binder that extends <code>n'</code> to <code>l'</code>.</p></td></tr><tr><td class="src">-&gt; r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Extend renaming when going under a <code><a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></code>.
 Note that the scope under binder is independent of the codomain of the renaming.</p><p>Semantically, this function may need to rename the binder (resulting in the new scope <code>l'</code>),
 to make sure it does not clash with scope <code>n'</code>.
 However, as it turns out, the foil makes it safe
 to implement this function as a coercion.
 See Appendix A in <a href="https://doi.org/10.1145/3587216.3587224">&#171;The Foil: Capture-Avoiding Substitution With No Sharp Edges&#187;</a> for the details.</p><p>This function is used to go under binders when implementing <code><a href="Control-Monad-Foil-Internal.html#v:sinkabilityProof" title="Control.Monad.Foil.Internal">sinkabilityProof</a></code>.
 A generalization of this function is <code><a href="Control-Monad-Foil-Internal.html#v:extendRenaming" title="Control.Monad.Foil.Internal">extendRenaming</a></code> (which is an efficient version of <code><a href="Control-Monad-Foil-Internal.html#v:coSinkabilityProof" title="Control.Monad.Foil.Internal">coSinkabilityProof</a></code>).</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:CoSinkable" class="def">CoSinkable</a> (pattern :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#CoSinkable" class="link">Source</a> <a href="#t:CoSinkable" class="selflink">#</a></p><div class="doc"><p><code><a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a></code> is to patterns (generalized binders)
 what <code><a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a></code> is to expressions.</p><p>See Section 2.3 of <a href="https://arxiv.org/abs/2405.16384">&#171;Free Foil: Generating Efficient and Scope-Safe Abstract Syntax&#187;</a> for more details.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:coSinkabilityProof" class="def">coSinkabilityProof</a> <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n')</td><td class="doc"><p>Map names from scope <code>n</code> to a (possibly larger) scope <code>n'</code>.</p></td></tr><tr><td class="src">-&gt; pattern n l</td><td class="doc"><p>A pattern that extends scope <code>n</code> to another scope <code>l</code>.</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; pattern n' l' -&gt; r)</td><td class="doc"><p>A continuation, accepting an extended renaming from <code>l</code> to <code>l'</code> (which itself extends <code>n'</code>)
 and a (possibly refreshed) pattern that extends <code>n'</code> to <code>l'</code>.</p></td></tr><tr><td class="src">-&gt; r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An implementation of this method that typechecks
 proves to the compiler that the pattern is indeed
 <code><a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a></code>. However, instead of this implementation,
 <code><a href="Control-Monad-Foil-Internal.html#v:extendRenaming" title="Control.Monad.Foil.Internal">extendRenaming</a></code> should be used at all call sites for efficiency.</p></div><p class="src"><a id="v:withPattern" class="def">withPattern</a> <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r')</td><td class="doc"><p>Processing of a single <code><a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></code>, this will be applied to each binder in a pattern.</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z')</td><td class="doc"><p>Result in case no binders are present. This can be seen as scope-indexed <code><a href="../base-4.19.1.0/Data-Monoid.html#v:mempty" title="Data.Monoid">mempty</a></code>.</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'')</td><td class="doc"><p>Composition of results for nested binders/patterns. This can be seen as scope-indexed <code><a href="../base-4.19.1.0/Data-Monoid.html#v:mappend" title="Data.Monoid">mappend</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o</td><td class="doc"><p>Ambient scope.</p></td></tr><tr><td class="src">-&gt; pattern n l</td><td class="doc"><p>Pattern to process.</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; pattern o o' -&gt; r)</td><td class="doc"><p>Continuation, accepting result for the entire pattern and a (possibly refreshed) pattern.</p></td></tr><tr><td class="src">-&gt; r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Generalized processing of a pattern.</p><p>You can see <code><a href="Control-Monad-Foil-Internal.html#v:withPattern" title="Control.Monad.Foil.Internal">withPattern</a></code> as a CPS-style traversal over the binders in a pattern.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CoSinkable">Instances</h4><details id="i:CoSinkable" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:CoSinkable:CoSinkable:1"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-740" class="link">Source</a> <a href="#t:CoSinkable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:CoSinkable:CoSinkable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:CoSinkable:CoSinkable:2"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-517" class="link">Source</a> <a href="#t:CoSinkable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:CoSinkable:CoSinkable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:CoSinkable:CoSinkable:3"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-509" class="link">Source</a> <a href="#t:CoSinkable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:CoSinkable:CoSinkable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinders" title="Control.Monad.Foil.Internal">NameBinders</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:CoSinkable:CoSinkable:4"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-553" class="link">Source</a> <a href="#t:CoSinkable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:CoSinkable:CoSinkable:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:U2" title="Control.Monad.Foil.Internal">U2</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:CoSinkable:CoSinkable:5"></span> <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-543" class="link">Source</a> <a href="#t:CoSinkable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:CoSinkable:CoSinkable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:coSinkabilityProof">coSinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n') -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l -&gt; (<span class="keyword">forall</span> (l' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l') -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n' l' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#coSinkabilityProof" class="link">Source</a> <a href="#v:coSinkabilityProof" class="selflink">#</a></p><p class="src"><a href="#v:withPattern">withPattern</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) f (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> o =&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) r'. <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> z =&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> z -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> x y -&gt; (<span class="keyword">forall</span> (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x y z z' -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> z z' -&gt; r') -&gt; r') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z' =&gt; f x x z z') -&gt; (<span class="keyword">forall</span> (x :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (y' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (z'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z z', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> z' z'') =&gt; f x y z z' -&gt; f y y' z' z'' -&gt; f x y' z z'') -&gt; <a href="Control-Monad-Foil-Internal.html#t:Scope" title="Control.Monad.Foil.Internal">Scope</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> n l -&gt; (<span class="keyword">forall</span> (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; f n l o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:V2" title="Control.Monad.Foil.Internal">V2</a> o o' -&gt; r) -&gt; r <a href="src/Control.Monad.Foil.Internal.html#withPattern" class="link">Source</a> <a href="#v:withPattern" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WithNameBinderList" class="def">WithNameBinderList</a> (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#WithNameBinderList" class="link">Source</a> <a href="#t:WithNameBinderList" class="selflink">#</a></p><div class="doc"><p>Auxiliary data structure for collecting name binders. Used in <code><a href="Control-Monad-Foil-Internal.html#v:nameBinderListOf" title="Control.Monad.Foil.Internal">nameBinderListOf</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WithNameBinderList" class="def">WithNameBinderList</a> (<a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> l r -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n r)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:idWithNameBinderList" class="def">idWithNameBinderList</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o' =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithNameBinderList" title="Control.Monad.Foil.Internal">WithNameBinderList</a> r n n o o' <a href="src/Control.Monad.Foil.Internal.html#idWithNameBinderList" class="link">Source</a> <a href="#v:idWithNameBinderList" class="selflink">#</a></p><div class="doc"><p>Empty list of name binders (identity).</p></div></div><div class="top"><p class="src"><a id="v:compWithNameBinderList" class="def">compWithNameBinderList</a> :: <span class="keyword">forall</span> (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o'' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (r :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o o', <a href="Control-Monad-Foil-Internal.html#t:DExt" title="Control.Monad.Foil.Internal">DExt</a> o' o'') =&gt; <a href="Control-Monad-Foil-Internal.html#t:WithNameBinderList" title="Control.Monad.Foil.Internal">WithNameBinderList</a> r n i o o' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithNameBinderList" title="Control.Monad.Foil.Internal">WithNameBinderList</a> r i l o' o'' -&gt; <a href="Control-Monad-Foil-Internal.html#t:WithNameBinderList" title="Control.Monad.Foil.Internal">WithNameBinderList</a> r n l o o'' <a href="src/Control.Monad.Foil.Internal.html#compWithNameBinderList" class="link">Source</a> <a href="#v:compWithNameBinderList" class="selflink">#</a></p><div class="doc"><p>Concatenating lists of name binders (compose).</p></div></div><div class="top"><p class="src"><a id="v:nameBinderListOf" class="def">nameBinderListOf</a> :: <span class="keyword">forall</span> binder (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> binder =&gt; binder n l -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l <a href="src/Control.Monad.Foil.Internal.html#nameBinderListOf" class="link">Source</a> <a href="#v:nameBinderListOf" class="selflink">#</a></p><div class="doc"><p>Collect name binders of a generalized pattern into a name binder list,
 which can be more easily traversed.</p></div></div><a href="#g:11" id="g:11"><h1>Safe substitions</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Substitution" class="def">Substitution</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#Substitution" class="link">Source</a> <a href="#t:Substitution" class="selflink">#</a></p><div class="doc"><p>A substitution is a mapping from names in scope <code>i</code>
 to expressions <code>e o</code> in scope <code>o</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnsafeSubstitution" class="def">UnsafeSubstitution</a> (<a href="../containers-0.6.8/Data-IntMap-Strict-Internal.html#t:IntMap" title="Data.IntMap.Strict.Internal">IntMap</a> (e o))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Substitution">Instances</h4><details id="i:Substitution" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Substitution:Sinkable:1"></span> <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> e =&gt; <a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a> (<a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i)</span> <a href="src/Control.Monad.Foil.Internal.html#line-804" class="link">Source</a> <a href="#t:Substitution" class="selflink">#</a></td><td class="doc"><p>Substitutions are sinkable as long as corresponding expressions are.</p></td></tr><tr><td colspan="2"><details id="i:id:Substitution:Sinkable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:sinkabilityProof">sinkabilityProof</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). (<a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> l) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i n -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i l <a href="src/Control.Monad.Foil.Internal.html#sinkabilityProof" class="link">Source</a> <a href="#v:sinkabilityProof" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:lookupSubst" class="def">lookupSubst</a> :: <span class="keyword">forall</span> e (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e =&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> i -&gt; e o <a href="src/Control.Monad.Foil.Internal.html#lookupSubst" class="link">Source</a> <a href="#v:lookupSubst" class="selflink">#</a></p><div class="doc"><p>Apply substitution to a given name.</p></div></div><div class="top"><p class="src"><a id="v:identitySubst" class="def">identitySubst</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e =&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i i <a href="src/Control.Monad.Foil.Internal.html#identitySubst" class="link">Source</a> <a href="#v:identitySubst" class="selflink">#</a></p><div class="doc"><p>Identity substitution maps all names to expresion-variables.</p></div></div><div class="top"><p class="src"><a id="v:voidSubst" class="def">voidSubst</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e '<a href="Control-Monad-Foil-Internal.html#v:VoidS" title="Control.Monad.Foil.Internal">VoidS</a> n <a href="src/Control.Monad.Foil.Internal.html#voidSubst" class="link">Source</a> <a href="#v:voidSubst" class="selflink">#</a></p><div class="doc"><p>An empty substitution from an empty scope.</p></div></div><div class="top"><p class="src"><a id="v:addSubst" class="def">addSubst</a> :: <span class="keyword">forall</span> e (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i i' -&gt; e o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i' o <a href="src/Control.Monad.Foil.Internal.html#addSubst" class="link">Source</a> <a href="#v:addSubst" class="selflink">#</a></p><div class="doc"><p>Extend substitution with a particular mapping.</p></div></div><div class="top"><p class="src"><a id="v:addSubstPattern" class="def">addSubstPattern</a> :: <span class="keyword">forall</span> binder e (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> binder =&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; binder i i' -&gt; [e o] -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i' o <a href="src/Control.Monad.Foil.Internal.html#addSubstPattern" class="link">Source</a> <a href="#v:addSubstPattern" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addSubstList" class="def">addSubstList</a> :: <span class="keyword">forall</span> e (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> i i' -&gt; [e o] -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i' o <a href="src/Control.Monad.Foil.Internal.html#addSubstList" class="link">Source</a> <a href="#v:addSubstList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:addRename" class="def">addRename</a> :: <span class="keyword">forall</span> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (i' :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> e =&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> i i' -&gt; <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> o -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i' o <a href="src/Control.Monad.Foil.Internal.html#addRename" class="link">Source</a> <a href="#v:addRename" class="selflink">#</a></p><div class="doc"><p>Add variable renaming to a substitution.
 This includes the performance optimization of eliding names mapped to themselves.</p></div></div><a href="#g:12" id="g:12"><h1><code>Name</code> maps</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:NameMap" class="def">NameMap</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a <a href="src/Control.Monad.Foil.Internal.html#NameMap" class="link">Source</a> <a href="#t:NameMap" class="selflink">#</a></p><div class="doc"><p>A <em>total</em> map from names in scope <code>n</code> to elements of type <code>a</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NameMap" class="def">NameMap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getNameMap" class="def">getNameMap</a> :: <a href="../containers-0.6.8/Data-IntMap-Strict-Internal.html#t:IntMap" title="Data.IntMap.Strict.Internal">IntMap</a> a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:emptyNameMap" class="def">emptyNameMap</a> :: <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> '<a href="Control-Monad-Foil-Internal.html#v:VoidS" title="Control.Monad.Foil.Internal">VoidS</a> a <a href="src/Control.Monad.Foil.Internal.html#emptyNameMap" class="link">Source</a> <a href="#v:emptyNameMap" class="selflink">#</a></p><div class="doc"><p>An empty map belongs in the empty scope.</p></div></div><div class="top"><p class="src"><a id="v:nameMapToSubstitution" class="def">nameMapToSubstitution</a> :: <span class="keyword">forall</span> (i :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) e (o :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> i (e o) -&gt; <a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a> e i o <a href="src/Control.Monad.Foil.Internal.html#nameMapToSubstitution" class="link">Source</a> <a href="#v:nameMapToSubstitution" class="selflink">#</a></p><div class="doc"><p>Convert a <code><a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a></code> of expressions into a <code><a href="Control-Monad-Foil-Internal.html#t:Substitution" title="Control.Monad.Foil.Internal">Substitution</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:addNameBinders" class="def">addNameBinders</a> :: <span class="keyword">forall</span> binder (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:CoSinkable" title="Control.Monad.Foil.Internal">CoSinkable</a> binder =&gt; binder n l -&gt; [a] -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> n a -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> l a <a href="src/Control.Monad.Foil.Internal.html#addNameBinders" class="link">Source</a> <a href="#v:addNameBinders" class="selflink">#</a></p><div class="doc"><p>Extend a map with multiple mappings (by repeatedly applying <code><a href="Control-Monad-Foil-Internal.html#v:addNameBinder" title="Control.Monad.Foil.Internal">addNameBinder</a></code>).</p><p>Note that the input list is expected to have <strong>at least</strong> the same number of elements
 as there are binders in the input pattern (generalized binder).</p></div></div><div class="top"><p class="src"><a id="v:addNameBinderList" class="def">addNameBinderList</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:NameBinderList" title="Control.Monad.Foil.Internal">NameBinderList</a> n l -&gt; [a] -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> n a -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> l a <a href="src/Control.Monad.Foil.Internal.html#addNameBinderList" class="link">Source</a> <a href="#v:addNameBinderList" class="selflink">#</a></p><div class="doc"><p>Extend a map with multiple mappings (by repeatedly applying <code><a href="Control-Monad-Foil-Internal.html#v:addNameBinder" title="Control.Monad.Foil.Internal">addNameBinder</a></code>).</p><p>Note that the input list is expected to have <strong>at least</strong> the same number of elements
 as there are binders in the input name binder list.</p><p>See also <code><a href="Control-Monad-Foil-Internal.html#v:addNameBinders" title="Control.Monad.Foil.Internal">addNameBinders</a></code> for a generalized version.</p></div></div><div class="top"><p class="src"><a id="v:lookupName" class="def">lookupName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> n a -&gt; a <a href="src/Control.Monad.Foil.Internal.html#lookupName" class="link">Source</a> <a href="#v:lookupName" class="selflink">#</a></p><div class="doc"><p>Looking up a name should always succeed.</p><p>Note that since <code><a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a></code> is <code><a href="Control-Monad-Foil-Internal.html#t:Sinkable" title="Control.Monad.Foil.Internal">Sinkable</a></code>, you can lookup a name from scope <code>n</code> in a <code><a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a></code> for scope <code>l</code> whenever <code>l</code> extends <code>n</code>.</p></div></div><div class="top"><p class="src"><a id="v:addNameBinder" class="def">addNameBinder</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) a. <a href="Control-Monad-Foil-Internal.html#t:NameBinder" title="Control.Monad.Foil.Internal">NameBinder</a> n l -&gt; a -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> n a -&gt; <a href="Control-Monad-Foil-Internal.html#t:NameMap" title="Control.Monad.Foil.Internal">NameMap</a> l a <a href="src/Control.Monad.Foil.Internal.html#addNameBinder" class="link">Source</a> <a href="#v:addNameBinder" class="selflink">#</a></p><div class="doc"><p>Extending a map with a single mapping.</p><p>Note that the scope parameter of the result differs from the initial map.</p></div></div><a href="#g:13" id="g:13"><h1>Raw types and operations</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Id" class="def">Id</a> = <a href="../base-4.19.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Control.Monad.Foil.Internal.html#Id" class="link">Source</a> <a href="#t:Id" class="selflink">#</a></p><div class="doc"><p>We will use <code><a href="../base-4.19.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></code> for efficient representation of identifiers.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RawName" class="def">RawName</a> = <a href="Control-Monad-Foil-Internal.html#t:Id" title="Control.Monad.Foil.Internal">Id</a> <a href="src/Control.Monad.Foil.Internal.html#RawName" class="link">Source</a> <a href="#t:RawName" class="selflink">#</a></p><div class="doc"><p>Raw name is simply an identifier.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RawScope" class="def">RawScope</a> = <a href="../containers-0.6.8/Data-IntSet.html#t:IntSet" title="Data.IntSet">IntSet</a> <a href="src/Control.Monad.Foil.Internal.html#RawScope" class="link">Source</a> <a href="#t:RawScope" class="selflink">#</a></p><div class="doc"><p>A raw scope is a set of raw names.</p></div></div><div class="top"><p class="src"><a id="v:rawFreshName" class="def">rawFreshName</a> :: <a href="Control-Monad-Foil-Internal.html#t:RawScope" title="Control.Monad.Foil.Internal">RawScope</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:RawName" title="Control.Monad.Foil.Internal">RawName</a> <a href="src/Control.Monad.Foil.Internal.html#rawFreshName" class="link">Source</a> <a href="#v:rawFreshName" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\(O(\min(n, W))\)</span>.
 Generate a fresh raw name that
 does not appear in a given raw scope.</p></div></div><div class="top"><p class="src"><a id="v:rawMember" class="def">rawMember</a> :: <a href="Control-Monad-Foil-Internal.html#t:RawName" title="Control.Monad.Foil.Internal">RawName</a> -&gt; <a href="Control-Monad-Foil-Internal.html#t:RawScope" title="Control.Monad.Foil.Internal">RawScope</a> -&gt; <a href="../base-4.19.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Control.Monad.Foil.Internal.html#rawMember" class="link">Source</a> <a href="#v:rawMember" class="selflink">#</a></p><div class="doc"><p>Check if a raw name is contained in a raw scope.</p></div></div><a href="#g:14" id="g:14"><h1>Constraints</h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:ExtEndo" class="def">ExtEndo</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#ExtEndo" class="link">Source</a> <a href="#t:ExtEndo" class="selflink">#</a></p><div class="doc"><p>Every scope is a (trivial) extension of itself.</p><p><strong>Important</strong>: this class exists to assist tracking scope extensions
 for type variables of kind <code><a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a></code>.
 Users of the foil are not supposed to implement any instances of <code><a href="Control-Monad-Foil-Internal.html#t:ExtEndo" title="Control.Monad.Foil.Internal">ExtEndo</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Control-Monad-Foil-Internal.html#t:ExtEndo" title="Control.Monad.Foil.Internal">ExtEndo</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtEndo" title="Control.Monad.Foil.Internal">ExtEndo</a> l) =&gt; <a id="t:Ext" class="def">Ext</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#Ext" class="link">Source</a> <a href="#t:Ext" class="selflink">#</a></p><div class="doc"><p>Some scopes are extensions of other scopes.</p><p><strong>Important</strong>: this class exists to assist tracking scope extensions
 for type variables of kind <code><a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a></code>.
 Users of the foil are not supposed to implement any instances of <code><a href="Control-Monad-Foil-Internal.html#t:Ext" title="Control.Monad.Foil.Internal">Ext</a></code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Ext">Instances</h4><details id="i:Ext" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Ext:Ext:1"></span> (<a href="Control-Monad-Foil-Internal.html#t:ExtEndo" title="Control.Monad.Foil.Internal">ExtEndo</a> n =&gt; <a href="Control-Monad-Foil-Internal.html#t:ExtEndo" title="Control.Monad.Foil.Internal">ExtEndo</a> l) =&gt; <a href="Control-Monad-Foil-Internal.html#t:Ext" title="Control.Monad.Foil.Internal">Ext</a> n l</span> <a href="src/Control.Monad.Foil.Internal.html#line-892" class="link">Source</a> <a href="#t:Ext" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Ext:Ext:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Distinct" class="def">Distinct</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) <a href="src/Control.Monad.Foil.Internal.html#Distinct" class="link">Source</a> <a href="#t:Distinct" class="selflink">#</a></p><div class="doc"><p>Scopes with distinct names.</p><p><strong>Important</strong>: this class exists to explicitly
 mark scopes with distinct names.
 Users of the foil are not supposed to implement any instances of <code><a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a></code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Distinct">Instances</h4><details id="i:Distinct" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Distinct:Distinct:1"></span> <a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> '<a href="Control-Monad-Foil-Internal.html#v:VoidS" title="Control.Monad.Foil.Internal">VoidS</a></span> <a href="src/Control.Monad.Foil.Internal.html#line-900" class="link">Source</a> <a href="#t:Distinct" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Distinct:Distinct:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Internal.html">Control.Monad.Foil.Internal</a></p></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DExt" class="def">DExt</a> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) (l :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>) = (<a href="Control-Monad-Foil-Internal.html#t:Distinct" title="Control.Monad.Foil.Internal">Distinct</a> l, <a href="Control-Monad-Foil-Internal.html#t:Ext" title="Control.Monad.Foil.Internal">Ext</a> n l) <a href="src/Control.Monad.Foil.Internal.html#DExt" class="link">Source</a> <a href="#t:DExt" class="selflink">#</a></p><div class="doc"><p>Scope extensions with distinct names.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:InjectName" class="def">InjectName</a> (e :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a> -&gt; <a href="../base-4.19.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span> <a href="src/Control.Monad.Foil.Internal.html#InjectName" class="link">Source</a> <a href="#t:InjectName" class="selflink">#</a></p><div class="doc"><p>Instances of this typeclass possess the ability to inject names.
 Usually, this is a variable data constructor.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:injectName" class="def">injectName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; e n <a href="src/Control.Monad.Foil.Internal.html#injectName" class="link">Source</a> <a href="#v:injectName" class="selflink">#</a></p><div class="doc"><p>Inject names into expressions.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:InjectName">Instances</h4><details id="i:InjectName" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:InjectName:InjectName:1"></span> <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a></span> <a href="src/Control.Monad.Foil.Example.html#line-42" class="link">Source</a> <a href="#t:InjectName" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:InjectName:InjectName:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Foil-Example.html">Control.Monad.Foil.Example</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:injectName">injectName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Foil-Example.html#t:Expr" title="Control.Monad.Foil.Example">Expr</a> n <a href="src/Control.Monad.Foil.Internal.html#injectName" class="link">Source</a> <a href="#v:injectName" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:InjectName:InjectName:2"></span> <a href="Control-Monad-Foil-Internal.html#t:InjectName" title="Control.Monad.Foil.Internal">InjectName</a> (<a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig)</span> <a href="src/Control.Monad.Free.Foil.html#line-63" class="link">Source</a> <a href="#t:InjectName" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:InjectName:InjectName:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Monad-Free-Foil.html">Control.Monad.Free.Foil</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:injectName">injectName</a> :: <span class="keyword">forall</span> (n :: <a href="Control-Monad-Foil-Internal.html#t:S" title="Control.Monad.Foil.Internal">S</a>). <a href="Control-Monad-Foil-Internal.html#t:Name" title="Control.Monad.Foil.Internal">Name</a> n -&gt; <a href="Control-Monad-Free-Foil.html#t:AST" title="Control.Monad.Free.Foil">AST</a> binder sig n <a href="src/Control.Monad.Foil.Internal.html#injectName" class="link">Source</a> <a href="#v:injectName" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>